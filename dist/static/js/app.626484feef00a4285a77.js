webpackJsonp([1],{0:function(t,e){},Ejuj:function(t,e){},M756:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},r=a("VU/8")({name:"app"},o,!1,function(t){a("VIeW")},null,null).exports,s=a("/ocq"),i=a("Icdr"),l=a.n(i),c=(a("tcAE"),a("9OQl"),new n.default),d={name:"echarts",data:function(){return{Time:[],GHI:[],DNI:[],PlantGeo:"39.15,101.18",PlantId:"1200000000002201",Status:!1,EchartOpt:{}}},created:function(){console.log("[create-echarts]"),c.$on("selectedPlan",function(t){console.log("[Created-receive message from event bus]",t),this.PlantId=t,this.Status=!0,this.getData(t)}.bind(this))},mounted:function(){console.log("[Mounted-init charts default]"),this.getData(0x44364c5bb0898)},methods:{getData:function(t){var e=this;this.$store.dispatch("getSolarForcast",t).then(function(a){e.draw(),console.log("[line chart init data ] getSolarForcast Success and run draw a picture: "+t)},function(t){alert("got nothing from the server")})},draw:function(){l.a.init(document.getElementById("myChart"),"macarons").setOption({title:{left:"left"},toolbox:{show:!0,feature:{dataView:{show:!1,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},legend:{data:["总辐照度","直接辐照"],textStyle:{color:"#fff"}},xAxis:{type:"category",boundaryGap:!1,axisLine:{show:!1},data:this.$store.state.Times},yAxis:[{type:"value",axisLabel:{formatter:"{value}W/㎡"},axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1}}],dataZoom:[{type:"inside",start:0,end:20}],series:[{name:"总辐照度",type:"line",smooth:!0,itemStyle:{normal:{color:"#e94e54"}},areaStyle:{normal:{}},data:this.$store.state.GHIs},{name:"直接辐照",type:"line",smooth:!0,itemStyle:{normal:{color:"#F6d365"}},areaStyle:{normal:{color:new l.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#F6d365"},{offset:1,color:"#fda085"}])}},data:this.$store.state.DNIs}]})},getWeather:function(t){var e=this;this.$http.get("http://101.201.72.120:1314/api/solarForcast",{params:{plantId:t}}).then(function(t){e.Time=t.data.forecasts1Hour.time,e.GHI=t.data.forecasts1Hour.ghi,e.DNI=t.data.forecasts1Hour.dni;l.a.init(document.getElementById("myChart")).setOption({title:{text:"微气象预报",subtext:"由IBM和E云共同研发",left:"center"},toolbox:{},tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},legend:{data:["总辐照度","直接辐照"],align:"right",right:125},xAxis:{type:"category",boundaryGap:!1,data:t.data.forecasts1Hour.time},yAxis:[{type:"value"},{name:"风速（m/s）",type:"value",inverse:!0}],dataZoom:[{type:"inside",start:0,end:10}],series:[{name:"总辐照度",type:"line",smooth:!0,areaStyle:{normal:{}},data:t.data.forecasts1Hour.ghi},{name:"直接辐照",type:"line",smooth:!0,areaStyle:{normal:{color:new l.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(255, 158, 68)"},{offset:1,color:"rgb(255, 70, 131)"}])}},data:t.data.forecasts1Hour.dni}]})},function(t){console.log(t)})}}},u={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{height:"740px"},attrs:{id:"myChart"}})},staticRenderFns:[]},p=a("VU/8")(d,u,!1,function(t){a("Tos/")},"data-v-39108880",null).exports,f={name:"selectOne",data:function(){return{Plants:[],value:0x44364c5bb0898}},created:function(){var t=this;this.$store.dispatch("getStations").then(function(e){t.Plants=t.$store.state.Stations,t.value=t.$store.state.Stations[0].plant_id,console.log("[Created-init data] getStations Success: "+e)},function(t){console.log("[Created-init data] got nothing from the server")})},methods:{sendMessageToBus:function(t){isNaN(t)?console.log("[selected-sendMessageToBus] not number : ",t):(console.log("[selected-sendMessageToBus] selected and send to: ",t),c.$emit("selectedPlan",t))}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Select",{attrs:{placeholder:"请选择"},on:{"on-change":t.sendMessageToBus},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.Plants,function(e){return a("Option",{key:e.location_geo,attrs:{value:e.plant_id}},[t._v("\n    "+t._s(e.plant_name)+"\n  ")])}))},staticRenderFns:[]},m=a("VU/8")(f,h,!1,null,null,null).exports,g={name:"echarts",data:function(){return{Time:[],GHI:[],DNI:[],PlantGeo:"39.15,101.18",PlantId:"1200000000002201",Status:!1,EchartOpt:{}}},created:function(){console.log("[bar chart] created"),c.$on("selectedPlan",function(t){console.log(t),this.PlantId=t,this.Status=!0,this.getData(t)}.bind(this))},mounted:function(){this.getData(0x44364c5bb0898)},methods:{getData:function(t){var e=this;this.$store.dispatch("getWindForcast",t).then(function(a){e.draw(),console.log("[bar chart init data] getWindForcast Success and run draw a picture"+t)},function(t){console.error("got wind forcast nothing from the server")})},draw:function(){l.a.init(document.getElementById("myChart2"),"macarons").setOption({title:{left:"left"},toolbox:{},tooltip:{trigger:"axis",position:function(t){return[t[0],"10%"]}},legend:{align:"right",right:125,selectedMode:"single"},xAxis:{type:"category",axisLine:{show:!1},axisTick:{alignWithLabel:!0},data:this.$store.state.Times},yAxis:[{type:"value",axisLabel:{formatter:"{value}m/s"},axisLine:{show:!1}},{type:"value",axisLabel:{formatter:"{value}m/s"},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}}],dataZoom:[{type:"inside",start:0,end:4}],series:[{name:"风速",type:"bar",yAxisIndex:1,itemStyle:{normal:{color:new l.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#4faCFE"},{offset:1,color:"#00F2FE"}])}},data:this.$store.state.WindSpeed}]})}}},y={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{height:"350px"},attrs:{id:"myChart2"}})},staticRenderFns:[]},v=a("VU/8")(g,y,!1,function(t){a("PToC")},"data-v-08dc809d",null).exports,_=a("BO1k"),x=a.n(_),b={name:"echarts",data:function(){return{Latitude:39.15,Longtitude:101.18,Dot:.05,PlantDot:[],PlantName:"乌尔禾"}},created:function(){console.log("[map chart init] created... "),c.$on("selectedPlan",function(t){console.log(t),this.PlantId=t,this.Status=!0,this.getData(t)}.bind(this))},mounted:function(){this.getData(0x44364c5bb0898)},methods:{getData:function(t){var e=!0,a=!1,n=void 0;try{for(var o,r=x()(this.$store.state.Stations);!(e=(o=r.next()).done);e=!0){var s=o.value;s.plant_id==t&&(this.Latitude=s.location_n,this.Longtitude=s.location_e,this.PlantName=s.plant_name)}}catch(t){a=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw n}}this.draw()},draw:function(){var t=l.a.init(document.getElementById("myChart3"),"macarons"),e={};e.ZW={latitude:this.Latitude,longitude:this.Longtitude};var a=[{code:"ZW",name:this.PlantName,value:0,color:"#39edf4"}],n=-1/0,o=1/0;a.forEach(function(t){t.value>n&&(n=t.value),t.value<o&&(o=t.value)});var r={title:{left:"left",top:"top",textStyle:{color:"#fff"}},tooltip:{trigger:"item",formatter:function(t){var e=(t.value+"").split(".");return e=e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+"."+e[1],t.name}},visualMap:{show:!1,min:0,max:n,inRange:{symbolSize:[3,30]}},geo:{name:"Plant",type:"map",map:"world",roam:!0,label:{emphasis:{show:!1}},itemStyle:{normal:{areaColor:"#4c7db5",borderColor:"#4c7db5"},emphasis:{areaColor:"#2a333d"}}},series:[{type:"effectScatter",coordinateSystem:"geo",data:a.map(function(t){return{name:t.name,value:[e[t.code].longitude,e[t.code].latitude,t.value],label:{emphasis:{position:"right",show:!0}},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,itemStyle:{normal:{color:t.color}}}})}]};t.setOption(r)}}},w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{style:{height:"350px"},attrs:{id:"myChart3"}})},staticRenderFns:[]},S={name:"Weather",components:{echarts:p,barecharts:v,mapecharts:a("VU/8")(b,w,!1,function(t){a("ocrO")},"data-v-69b4e497",null).exports,selectOne:m},data:function(){return{msg:"Welcome to Your Vue.js App"}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",{staticStyle:{height:"40px"}},[a("div",{staticClass:"layout-nav"},[a("select-one")],1)]),t._v(" "),a("Content",[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"15"}},[a("Card",{staticStyle:{background:"#0d1933","margin-left":"10px"},attrs:{bordered:!0}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"android-sunny"}}),t._v("\n              辐照度\n            ")],1),t._v(" "),a("a",{attrs:{slot:"extra",href:"#"},on:{click:function(e){e.preventDefault(),t.changeLimit(e)}},slot:"extra"},[a("Icon",{attrs:{type:"ios-loop-strong"}})],1),t._v(" "),a("echarts")],1)],1),t._v(" "),a("Col",{attrs:{span:"9"}},[a("Card",{staticStyle:{background:"#0d1933","margin-right":"20px",height:"400px"},attrs:{bordered:!0}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"flag"}}),t._v("\n            风速预测\n          ")],1),t._v(" "),a("barecharts")],1),t._v(" "),a("Card",{staticStyle:{background:"#0d1933","margin-right":"20px","margin-top":"10px",height:"415px"},attrs:{bordered:!0}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-location"}}),t._v("\n            地理位置\n          ")],1),t._v(" "),a("mapecharts")],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},C=a("VU/8")(S,I,!1,function(t){a("tg6X")},"data-v-3a9fb50e",null).exports,E=a("94rq"),F=a.n(E),$=(a("g3Gj"),{name:"Player",mounted:function(){F()("my-player",{},function(){F.a.log("Your player is ready!"),this.play(),this.on("ended",function(){F.a.log("Awww...over so soon?!")})})}}),L={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("video",{staticClass:"video-js",attrs:{id:"my-player",controls:"",preload:"auto",width:"420",height:"345","data-setup":"{}"}},[e("source",{attrs:{src:"rtmp://101.201.119.21:1935/hls/test",type:"rtmp/flv"}})])}]},k={name:"Player",mounted:function(){F()("my-player1",{},function(){F.a.log("Your player is ready!"),this.play(),this.on("ended",function(){F.a.log("Awww...over so soon?!")})})}},P={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("video",{staticClass:"video-js",attrs:{id:"my-player1",controls:"",preload:"auto",width:"420",height:"345","data-setup":"{}"}},[e("source",{attrs:{src:"rtmp://101.201.119.21:1935/hls/test1",type:"rtmp/flv"}})])}]},T={name:"Player",mounted:function(){F()("my-player2",{},function(){F.a.log("Your player is ready!"),this.play(),this.on("ended",function(){F.a.log("Awww...over so soon?!")})})}},D={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("video",{staticClass:"video-js",attrs:{id:"my-player2",controls:"",preload:"auto",width:"420",height:"345","data-setup":"{}"}},[e("source",{attrs:{src:"rtmp://101.201.119.21:1935/hls/test2",type:"rtmp/flv"}})])}]},W={name:"Player",mounted:function(){F()("my-player3",{},function(){F.a.log("Your player is ready!"),this.play(),this.on("ended",function(){F.a.log("Awww...over so soon?!")})})}},H={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("video",{staticClass:"video-js",attrs:{id:"my-player3",controls:"",preload:"auto",width:"420",height:"345","data-setup":"{}"}},[e("source",{attrs:{src:"rtmp://101.201.119.21:1935/hls/test3",type:"rtmp/flv"}})])}]},R={name:"Video",components:{player:a("VU/8")($,L,!1,function(t){a("qmu7")},"data-v-01b6b436",null).exports,player1:a("VU/8")(k,P,!1,function(t){a("Ejuj")},"data-v-489b88fa",null).exports,player2:a("VU/8")(T,D,!1,function(t){a("M756")},"data-v-4ba51143",null).exports,player3:a("VU/8")(W,H,!1,function(t){a("k/Zo")},"data-v-88d031fa",null).exports},data:function(){return{msg:"Welcome to Your Vue.js App",height:document.documentElement.clientHeight}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout"},[a("Layout",[a("Header",{staticStyle:{height:"10px"}}),t._v(" "),a("Content",[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"10"}},[a("Row",[a("Card",{staticStyle:{background:"#0d1933","margin-left":"10px"},attrs:{bordered:!0}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-film-outline"}}),t._v("\n              视频1\n            ")],1),t._v(" "),a("a",{attrs:{slot:"extra",href:"#"},on:{click:function(e){e.preventDefault(),t.changeLimit(e)}},slot:"extra"},[a("Icon",{attrs:{type:"ios-loop-strong"}})],1),t._v(" "),a("player",{staticStyle:{clear:"both",display:"block",margin:"auto"}})],1)],1),t._v(" "),a("Row",[a("Card",{staticStyle:{background:"#0d1933","margin-left":"10px","margin-top":"10px"},attrs:{bordered:!0}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-film-outline"}}),t._v("\n              视频3\n            ")],1),t._v(" "),a("a",{attrs:{slot:"extra",href:"#"},on:{click:function(e){e.preventDefault(),t.changeLimit(e)}},slot:"extra"},[a("Icon",{attrs:{type:"ios-loop-strong"}})],1),t._v(" "),a("player2",{staticStyle:{clear:"both",display:"block",margin:"auto"}})],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"10"}},[a("Row",[a("Card",{staticStyle:{background:"#0d1933","margin-left":"10px"},attrs:{bordered:!0}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-film-outline"}}),t._v("\n              视频2\n            ")],1),t._v(" "),a("a",{attrs:{slot:"extra",href:"#"},on:{click:function(e){e.preventDefault(),t.changeLimit(e)}},slot:"extra"},[a("Icon",{attrs:{type:"ios-loop-strong"}})],1),t._v(" "),a("player1",{staticStyle:{clear:"both",display:"block",margin:"auto"}})],1)],1),t._v(" "),a("Row",[a("Card",{staticStyle:{background:"#0d1933","margin-left":"10px","margin-top":"10px"},attrs:{bordered:!0}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"ios-film-outline"}}),t._v("\n              视频4\n            ")],1),t._v(" "),a("a",{attrs:{slot:"extra",href:"#"},on:{click:function(e){e.preventDefault(),t.changeLimit(e)}},slot:"extra"},[a("Icon",{attrs:{type:"ios-loop-strong"}})],1),t._v(" "),a("player3",{staticStyle:{clear:"both",display:"block",margin:"auto"}})],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"4"}},[a("Card",{staticStyle:{background:"#0d1933","margin-right":"10px",height:"200px"},attrs:{bordered:!0}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v("固阳20WM光伏电站")]),t._v(" "),a("p",[t._v("1.厂区-大门口")]),t._v(" "),a("p",[t._v("2.设备区-主变")]),t._v(" "),a("p",[t._v("3.设备区-东边")]),t._v(" "),a("p",[t._v("4.配电室-西北")])])],1)],1)],1)],1)],1)},staticRenderFns:[]},A=a("VU/8")(R,O,!1,function(t){a("cO5F")},"data-v-71f2fe21",null).exports;n.default.use(s.a);var V=new s.a({routes:[{path:"/",name:"Weather",component:C},{path:"/e",name:"Echarts",component:p},{path:"/video",name:"Video",component:A}]}),G=a("vO7p"),N=a.n(G),j=a("mtWM"),M=a.n(j),U=a("Rf8U"),B=a.n(U),Y=a("BTaQ"),Z=a.n(Y),q=(a("lblR"),a("//Fk")),Q=a.n(q),X=a("NYxO");n.default.use(X.a),n.default.use(B.a,M.a);var z=new X.a.Store({state:{Stations:[],CurStation:{Latitude:0,Longtitude:0,Times:[],GHIs:[],DNIs:[],WindSpeed:[]},Times:[],GHIs:[],DNIs:[],WindSpeed:[]},getters:{Times:function(t){return t.Times}},actions:{getStations:function(t,e){return new Q.a(function(e,a){M.a.get("http://101.201.72.120:1314/api/project").then(function(a){t.commit("setStations",{res:a.data}),e(a)},function(t){a(t)})})},getWindForcast:function(t,e){return new Q.a(function(a,n){M.a.get("http://101.201.72.120:1314/api/windForcast",{params:{plantId:e}}).then(function(e){t.commit("setWindForcast",{res:e.data}),a(e)},function(t){n(t)})})},getSolarForcast:function(t,e){return new Q.a(function(a,n){M.a.get("http://101.201.72.120:1314/api/solarForcast",{params:{plantId:e}}).then(function(e){t.commit("setSolarForcast",{res:e.data}),a(e)},function(t){n(t)})})}},mutations:{setSolarForcast:function(t,e){var a=e.res;t.Times=a.forecasts1Hour.time,t.GHIs=a.forecasts1Hour.ghi,t.DNIs=a.forecasts1Hour.dni},setWindForcast:function(t,e){var a=e.res;t.WindSpeed=a.forecasts1Hour.wind_speed},setStations:function(t,e){var a=e.res;t.Stations=a,console.log("receive data and set rudux: "+a)}},modules:{}});n.default.config.productionTip=!1,n.default.use(N.a),n.default.use(B.a,M.a),n.default.use(Z.a),new n.default({el:"#app",router:V,store:z,template:"<App/>",components:{App:r}})},PToC:function(t,e){},"Tos/":function(t,e){},VIeW:function(t,e){},cO5F:function(t,e){},g3Gj:function(t,e){},"k/Zo":function(t,e){},lblR:function(t,e){},ocrO:function(t,e){},qmu7:function(t,e){},tg6X:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.626484feef00a4285a77.js.map